(this["webpackJsonpCodMi-test"]=this["webpackJsonpCodMi-test"]||[]).push([[0],{12:function(t,e,n){t.exports={Overlay:"Modal_Overlay__2rNnA",Modal:"Modal_Modal__3CGKI"}},21:function(t,e,n){t.exports={list:"Posts_list__120G6"}},29:function(t,e,n){},4:function(t,e,n){t.exports={item:"PostItem_item__31C6u",text:"PostItem_text__2mT7b",div:"PostItem_div__g4sZo",button:"PostItem_button__2ooit"}},49:function(t,e,n){"use strict";n.r(e);var o=n(1),a=n.n(o),c=n(9),r=n.n(c),s=(n(28),n(29),n(23)),l=n(22),i=n(3),u=n(6),d=n.n(u);d.a.defaults.baseURL="https://jsonplaceholder.typicode.com";var b=function(){return d.a.get("/posts").then((function(t){return t.data})).catch((function(t){return console.log("error",t)}))},j=function(t){d.a.delete("/posts/".concat(t)).catch((function(t){return console.log("error",t)}))},m=function(t){return d.a.post("/posts",t).then((function(t){return t.data})).catch((function(t){return console.log("error",t)}))},f=function(t,e){return d.a.patch("/posts/".concat(t),e).then((function(t){return t.data})).catch((function(t){return console.log("error",t)}))},p=n(4),x=n.n(p),O=n(12),h=n.n(O),_=n(0),v=document.querySelector("#modal-root"),y=function(t){var e=t.children,n=t.onCloseModal,a=function(t){"Escape"===t.code&&n()};return Object(o.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}})),Object(c.createPortal)(Object(_.jsx)("div",{className:h.a.Overlay,onClick:function(t){t.currentTarget===t.target&&n()},children:Object(_.jsx)("div",{className:h.a.Modal,onClick:function(t){return t.stopPropagation()},children:e})}),v)},N=n(5),g=n.n(N),C=function(t){var e=t.id,n=t.titleForUpdate,a=t.textForUpdate,c=t.onCloseModal,r=t.onUpdate,s=Object(o.useState)(n),l=Object(i.a)(s,2),u=l[0],d=l[1],b=Object(o.useState)(a),j=Object(i.a)(b,2),m=j[0],f=j[1],p=function(t){var e=t.target,n=e.value;"title"===e.name?d(n):f(n)};return Object(_.jsxs)("form",{className:g.a.form,onSubmit:function(t){(t.preventDefault(),u!==n||m!==a)?(r(e,{title:u,body:m}),d(""),f(""),c()):alert("Not update title or text")},children:[Object(_.jsxs)("label",{className:g.a.label,children:["Title",Object(_.jsx)("input",{type:"text",name:"title",value:u,onChange:p})]}),Object(_.jsxs)("label",{className:g.a.label,children:["Text",Object(_.jsx)("input",{type:"text",name:"text",value:m,onChange:p})]}),Object(_.jsxs)("div",{className:g.a.divButton,children:[Object(_.jsx)("button",{className:g.a.button,onClick:c,type:"button",children:"Cancel"}),Object(_.jsx)("button",{className:g.a.button,type:"submit",children:"Update"})]})]})},P=function(t){var e=t.title,n=t.body,a=t.id,c=t.onDelete,r=t.onUpdate,s=Object(o.useState)(!1),l=Object(i.a)(s,2),u=l[0],d=l[1],b=function(){d((function(t){return!t}))};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("li",{className:x.a.item,children:[Object(_.jsx)("h2",{className:x.a.title,children:e}),Object(_.jsxs)("div",{className:x.a.div,children:[Object(_.jsx)("p",{className:x.a.text,children:n}),Object(_.jsx)("button",{className:x.a.button,onClick:b,type:"button",children:"Update"}),Object(_.jsx)("button",{className:x.a.button,onClick:function(){return c(a)},type:"button",children:"X"})]})]}),u&&Object(_.jsx)(y,{onCloseModal:b,children:Object(_.jsx)(C,{id:a,titleForUpdate:e,textForUpdate:n,onCloseModal:b,onUpdate:r})})]})},U=n(21),F=n.n(U),M=function(t){var e=t.posts,n=t.onDelete,o=t.onUpdate;return Object(_.jsx)("ul",{className:F.a.list,children:e.map((function(t){var e=t.id,a=t.title,c=t.body;return Object(_.jsx)(P,{id:e,title:a,body:c,onDelete:n,onUpdate:o},e)}))})},S=n(51),k=n(8),E=n.n(k),w=function(t){var e=t.onSubmitAddForm,n=Object(o.useState)(""),a=Object(i.a)(n,2),c=a[0],r=a[1],s=Object(o.useState)(""),l=Object(i.a)(s,2),u=l[0],d=l[1],b=function(t){var e=t.target,n=e.value;"title"===e.name?r(n):d(n)};return Object(_.jsxs)("form",{className:E.a.form,onSubmit:function(t){if(t.preventDefault(),c&&u){var n={id:Object(S.a)(),title:c,body:u};e(n),r(""),d("")}else alert("Title or text not entered ")},children:[Object(_.jsxs)("label",{className:E.a.label,children:["Title",Object(_.jsx)("input",{type:"text",name:"title",value:c,placeholder:"Enter title",onChange:b})]}),Object(_.jsxs)("label",{className:E.a.label,children:["Text",Object(_.jsx)("input",{type:"text",name:"text",value:u,placeholder:"Enter text",onChange:b})]}),Object(_.jsx)("button",{className:E.a.button,type:"submit",children:"Add Post"})]})},A=function(){var t=Object(o.useState)([]),e=Object(i.a)(t,2),n=e[0],a=e[1];Object(o.useEffect)((function(){b().then((function(t){return a(t)}))}),[]);return Object(_.jsx)(_.Fragment,{children:n.length>0?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{children:"Posts"}),Object(_.jsx)(w,{onSubmitAddForm:function(t){a((function(e){return[t].concat(Object(l.a)(e))})),m(t)}}),Object(_.jsx)(M,{posts:n,onDelete:function(t){a((function(e){return e.filter((function(e){return e.id!==t}))})),j(t)},onUpdate:function(t,e){a((function(n){return n.map((function(n){return n.id===t?Object(s.a)({},e):n}))}),f(t,e))}})]}):Object(_.jsx)("h1",{children:"No Posts"})})};r.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(A,{})}),document.getElementById("root"))},5:function(t,e,n){t.exports={form:"FormUpdatePost_form__1j5fs",label:"FormUpdatePost_label__7y9EZ",divButton:"FormUpdatePost_divButton__xr6kZ",button:"FormUpdatePost_button__9LGMA"}},8:function(t,e,n){t.exports={form:"FormAddPost_form__2UPCY",label:"FormAddPost_label__xzyoe",button:"FormAddPost_button__Y3myn"}}},[[49,1,2]]]);
//# sourceMappingURL=main.6fbbed05.chunk.js.map